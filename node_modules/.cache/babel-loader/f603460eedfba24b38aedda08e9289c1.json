{"ast":null,"code":"import { Component, Input, ViewChild, EventEmitter, Output, LOCALE_ID, Inject } from \"@angular/core\";\nimport { SafariDateFormatterPipe } from \"../../core/pipe/safari-date-formatter.pipe\";\nimport { LocalizedDatePipe } from \"../../core/pipe/localized-date.pipe\";\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"line\"];\nexport class ExperienceTimelineComponent {\n  constructor(elRef, renderer, locale) {\n    this.elRef = elRef;\n    this.renderer = renderer;\n    this.locale = locale;\n    this._experiences = [];\n    this.onTimelineChanged = new EventEmitter();\n  }\n\n  get currentPosition() {\n    return this._currentPosition;\n  }\n\n  set currentPosition(value) {\n    if (value) {\n      this._currentPosition = value;\n      this.updateTimelineNavigation();\n    }\n  }\n\n  get experiences() {\n    return this._experiences;\n  }\n\n  set experiences(value) {\n    if (value) {\n      this._experiences = value;\n      this.populateExperienceTimeline();\n    }\n  }\n\n  ngOnInit() {\n    this.offsetWidth = this.elRef.nativeElement.offsetWidth;\n    this.removeEventListener = this.renderer.listen(this.elRef.nativeElement, \"click\", event => {\n      if (event.target && event.target.getAttribute(\"id-position\")) {\n        const targetId = event.target.getAttribute(\"id-position\");\n        this.onTimelineChanged.emit(targetId);\n      }\n    });\n  } // Cleanup by removing the event listener on destroy\n\n\n  ngOnDestroy() {\n    this.removeEventListener();\n  }\n\n  updateTimelineNavigation() {\n    const activePreviousElem = this.line.nativeElement.querySelector(\".milestone.active.current\");\n    this.renderer.removeClass(activePreviousElem, \"current\");\n    const targetElem = this.line.nativeElement.querySelector(`div[id-position=\"${this.currentPosition}\"]`);\n    this.renderer.addClass(targetElem, \"current\");\n  }\n\n  daysBetween(startDate, endDate) {\n    // The .replace() is necessary in order to avoid issues in the Firefox browser.\n    const pointA = new Date(startDate.replace(/-/g, '/'));\n    const pointB = new Date(endDate.replace(/-/g, '/'));\n    return Math.round(Math.abs(+pointA - +pointB) / 8.64e7);\n  }\n\n  retrieveTodayDateAsString() {\n    const today = new Date();\n    return `${today.getMonth() + 1}-${today.getDate()}-${today.getFullYear()}`;\n  }\n\n  populateExperienceTimeline() {\n    let dates = this._experiences.map(experience => experience.startAt); // Adding the current day in order to complete the timeline.\n\n\n    dates.push(this.retrieveTodayDateAsString());\n\n    if (dates && dates.length < 2) {\n      this.renderer.setStyle(this.elRef.nativeElement, \"visibility\", \"hidden\");\n    } else if (dates.length >= 2) {\n      const daysBetween = this.daysBetween(dates[0], dates[dates.length - 1]);\n      const oneDayInPixels = this.offsetWidth / daysBetween; // Draw first date milestone      \n\n      this.renderer.appendChild(this.line.nativeElement, this.createMilestone(1, 0, dates[0]));\n      let i;\n      const lastFrameLoop = dates.length - 1; // Draw the middle date milestones\n\n      for (i = 1; i < lastFrameLoop; i++) {\n        const periodInDays = this.daysBetween(dates[0], dates[i]);\n        const periodWidth = periodInDays * oneDayInPixels;\n        const milestoneElement = this.createMilestone(i + 1, periodWidth, dates[i]);\n\n        if (i == lastFrameLoop - 1) {\n          this.renderer.addClass(milestoneElement, \"current\");\n        }\n\n        this.renderer.appendChild(this.line.nativeElement, milestoneElement);\n      } // Draw last date milestone ( the current frame )\n\n\n      const lastDataMilestone = this.createCurrentTriangle(i + 1);\n      this.renderer.appendChild(this.line.nativeElement, lastDataMilestone);\n    }\n  }\n\n  calculatePosition(leftPosition, offsetWidth) {\n    return leftPosition * 100 / offsetWidth;\n  }\n\n  createMilestone(index, left, date) {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    const leftPos = this.calculatePosition(left, this.offsetWidth); // Uses at most 95% instead of 100% in order to avoid collision to the arrow icon on the right side of the timeline.\n\n    this.renderer.setStyle(milestoneElement, \"left\", `${Math.min(95, leftPos)}%`);\n    this.renderer.setAttribute(milestoneElement, \"id-position\", index.toString());\n    const labelElement = this.createLabelElement(date.toString());\n    this.renderer.appendChild(milestoneElement, labelElement);\n    return milestoneElement;\n  }\n\n  createCurrentTriangle(index) {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    this.renderer.addClass(milestoneElement, \"future\");\n    this.renderer.setStyle(milestoneElement, \"left\", \"100%\");\n    return milestoneElement;\n  } // Update this function based on the desired date label formatting.\n\n\n  createLabelElement(date) {\n    const safariDateFormatterPipe = new SafariDateFormatterPipe();\n    const safariDateFormatterPipeValue = safariDateFormatterPipe.transform(date);\n    const localizedDatePipe = new LocalizedDatePipe(this.locale);\n    let month = localizedDatePipe.transform(safariDateFormatterPipeValue, \"MMM\");\n    const labelElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(labelElement, \"popupSpan\");\n    const monthSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(monthSpan, \"month\");\n    this.renderer.appendChild(monthSpan, this.renderer.createText(month));\n    const year = localizedDatePipe.transform(safariDateFormatterPipeValue, \"yyyy\");\n    const yearSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(yearSpan, \"year\");\n    this.renderer.appendChild(yearSpan, this.renderer.createText(year));\n    this.renderer.appendChild(labelElement, monthSpan);\n    this.renderer.appendChild(labelElement, yearSpan);\n    return labelElement; // year, E.g: May. 2020\n  }\n\n}\n\nExperienceTimelineComponent.ɵfac = function ExperienceTimelineComponent_Factory(t) {\n  return new (t || ExperienceTimelineComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(LOCALE_ID));\n};\n\nExperienceTimelineComponent.ɵcmp = i0.ɵɵdefineComponent({\n  type: ExperienceTimelineComponent,\n  selectors: [[\"app-experience-timeline\"]],\n  viewQuery: function ExperienceTimelineComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.line = _t.first);\n    }\n  },\n  inputs: {\n    currentPosition: \"currentPosition\",\n    experiences: \"experiences\"\n  },\n  outputs: {\n    onTimelineChanged: \"onTimelineChanged\"\n  },\n  decls: 5,\n  vars: 0,\n  consts: [[1, \"bottom-container\"], [1, \"lineCont\"], [1, \"line\"], [\"line\", \"\"], [1, \"mainCont\"]],\n  template: function ExperienceTimelineComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2, 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"div\", 4);\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".bottom-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  bottom: -75px;\\n}\\n\\n.mainCont[_ngcontent-%COMP%] {\\n  height: 80%;\\n  width: 100%;\\n  position: relative;\\n  color: white;\\n  font-size: 62px;\\n  text-align: center;\\n  transition: all 0.2s ease-out;\\n}\\n\\n.lineCont[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 20%;\\n}\\n\\n.lineCont[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%] {\\n  height: 3px;\\n  width: 100%;\\n  background: rgba(255, 255, 255, 0.25);\\n  border-radius: 5px;\\n  margin: auto;\\n  top: 50%;\\n  -ms-transform: translateY(-50%);\\n      transform: translateY(-50%);\\n  position: relative;\\n}\\n\\n.milestone[_ngcontent-%COMP%] {\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  border-radius: 15px;\\n  position: absolute;\\n  top: -6px;\\n  border: 3px solid white;\\n  cursor: pointer;\\n  transition: text-shadow 0.3s linear;\\n}\\n\\n.milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  width: auto;\\n  height: auto;\\n  padding: 10px;\\n  white-space: nowrap;\\n  color: white;\\n  position: absolute;\\n  top: 20px;\\n  left: -35px;\\n  transition: all 0.1s ease-out;\\n  pointer-events: none;\\n  \\n}\\n\\n.milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%] {\\n  margin-right: 5px;\\n  text-transform: capitalize;\\n}\\n\\n.milestone.current[_ngcontent-%COMP%] {\\n  width: 15px;\\n  height: 15px;\\n  background: #414c73;\\n  top: -8px;\\n  font-size: 22px;\\n  text-shadow: 0 0 15px white;\\n}\\n\\n.milestone.active[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  top: -40px;\\n  display: block;\\n}\\n\\n.milestone.active.future[_ngcontent-%COMP%] {\\n  width: 1px;\\n  height: 1px;\\n  border-top: 7px solid transparent;\\n  border-bottom: 8px solid transparent;\\n  border-left: 13px solid white;\\n  background: transparent;\\n  border-radius: 0;\\n  border-right: 0;\\n  pointer-events: none;\\n}\\n\\n.milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  left: -50px;\\n  top: -50px;\\n}\\n\\n@-webkit-keyframes grow {\\n  0% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n  50% {\\n    -ms-transform: scale(0.99);\\n    transform: scale(0.99);\\n  }\\n  100% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n}\\n\\n@keyframes grow {\\n  0% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n  50% {\\n    -ms-transform: scale(0.99);\\n    transform: scale(0.99);\\n  }\\n  100% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ncmFjZWJyb3duL2xpdmUtcmVzdW1lL3NyYy9hcHAvZXhwZXJpZW5jZS9leHBlcmllbmNlLXRpbWVsaW5lL2V4cGVyaWVuY2UtdGltZWxpbmUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsV0FBQTtBQ0NGOztBRENFO0VBQ0UsV0FBQTtFQUNBLFdBQUE7RUFDQSxxQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFFBQUE7RUFDQSwrQkFBQTtNQUFBLDJCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURHQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtFQUNBLG1DQUFBO0FDQUY7O0FERUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsNkJBQUE7RUFDQSxvQkFBQTtFQUFzQiw2REFBQTtBQ0MxQjs7QURDSTtFQUNFLGlCQUFBO0VBQ0EsMEJBQUE7QUNDTjs7QURFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FDQUo7O0FERUU7RUFDRSxVQUFBO0VBQ0EsY0FBQTtBQ0FKOztBREVFO0VBQ0UsVUFBQTtFQUNBLFdBQUE7RUFDQSxpQ0FBQTtFQUNBLG9DQUFBO0VBQ0EsNkJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0FDQUo7O0FERUU7RUFDRSxXQUFBO0VBQ0EsVUFBQTtBQ0FKOztBRElBO0VBQ0U7SUFJRSwwQkFBQTtJQUNBLHNCQUFBO0VDREY7RURJQTtJQUlDLDBCQUFBO0lBQ0Esc0JBQUE7RUNGRDtFREtBO0lBSUcsMEJBQUE7SUFDQSxzQkFBQTtFQ0hIO0FBQ0Y7O0FEcEJBO0VBQ0U7SUFJRSwwQkFBQTtJQUNBLHNCQUFBO0VDREY7RURJQTtJQUlDLDBCQUFBO0lBQ0Esc0JBQUE7RUNGRDtFREtBO0lBSUcsMEJBQUE7SUFDQSxzQkFBQTtFQ0hIO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9leHBlcmllbmNlL2V4cGVyaWVuY2UtdGltZWxpbmUvZXhwZXJpZW5jZS10aW1lbGluZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3R0b20tY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3R0b206IC03NXB4O1xufVxuXG4ubWFpbkNvbnQge1xuICBoZWlnaHQ6IDgwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDYycHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1vdXQ7XG59XG5cbi5saW5lQ29udCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIwJTtcblxuICAubGluZSB7XG4gICAgaGVpZ2h0OiAzcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHRvcDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbn1cblxuLm1pbGVzdG9uZSB7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtNnB4O1xuICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiB0ZXh0LXNoYWRvdyAwLjNzIGxpbmVhcjtcblxuICAucG9wdXBTcGFuIHtcbiAgICB3aWR0aDogYXV0bztcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgcGFkZGluZzogMTBweDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAyMHB4O1xuICAgIGxlZnQ6IC0zNXB4O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2Utb3V0O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyAvKiBPbmx5IHRoZSBDaXJjbGVzIGluIHRoZSB0aW1lbGluZSBhcmUgbGlzdGVuZWQgYnkgZXZlbnRzLiAqL1xuXG4gICAgLm1vbnRoIHtcbiAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gICAgfVxuICB9XG4gICYuY3VycmVudCB7XG4gICAgd2lkdGg6IDE1cHg7XG4gICAgaGVpZ2h0OiAxNXB4O1xuICAgIGJhY2tncm91bmQ6ICM0MTRjNzM7XG4gICAgdG9wOiAtOHB4O1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICB0ZXh0LXNoYWRvdzogMCAwIDE1cHggd2hpdGU7XG4gIH1cbiAgJi5hY3RpdmUgLnBvcHVwU3BhbiB7XG4gICAgdG9wOiAtNDBweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuICAmLmFjdGl2ZS5mdXR1cmUge1xuICAgIHdpZHRoOiAxcHg7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgYm9yZGVyLXRvcDogN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItbGVmdDogMTNweCBzb2xpZCB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIGJvcmRlci1yaWdodDogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuICAmLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICAgIGxlZnQ6IC01MHB4O1xuICAgIHRvcDogLTUwcHg7XG4gIH1cbn1cblxuQGtleWZyYW1lcyBncm93IHtcbiAgMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgLW8tdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTgpOyAgICBcbiAgfVxuICAgXG4gIDUwJSB7XG4gICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XG4gICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XG4gICAtby10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XG4gICB0cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICB9XG4gICBcbiAgMTAwJSB7XG4gICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAgLW1vei10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgICAtby10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgfVxufSIsIi5ib3R0b20tY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3R0b206IC03NXB4O1xufVxuXG4ubWFpbkNvbnQge1xuICBoZWlnaHQ6IDgwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDYycHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1vdXQ7XG59XG5cbi5saW5lQ29udCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIwJTtcbn1cbi5saW5lQ29udCAubGluZSB7XG4gIGhlaWdodDogM3B4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBtYXJnaW46IGF1dG87XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLm1pbGVzdG9uZSB7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtNnB4O1xuICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiB0ZXh0LXNoYWRvdyAwLjNzIGxpbmVhcjtcbn1cbi5taWxlc3RvbmUgLnBvcHVwU3BhbiB7XG4gIHdpZHRoOiBhdXRvO1xuICBoZWlnaHQ6IGF1dG87XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDIwcHg7XG4gIGxlZnQ6IC0zNXB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLW91dDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIC8qIE9ubHkgdGhlIENpcmNsZXMgaW4gdGhlIHRpbWVsaW5lIGFyZSBsaXN0ZW5lZCBieSBldmVudHMuICovXG59XG4ubWlsZXN0b25lIC5wb3B1cFNwYW4gLm1vbnRoIHtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xufVxuLm1pbGVzdG9uZS5jdXJyZW50IHtcbiAgd2lkdGg6IDE1cHg7XG4gIGhlaWdodDogMTVweDtcbiAgYmFja2dyb3VuZDogIzQxNGM3MztcbiAgdG9wOiAtOHB4O1xuICBmb250LXNpemU6IDIycHg7XG4gIHRleHQtc2hhZG93OiAwIDAgMTVweCB3aGl0ZTtcbn1cbi5taWxlc3RvbmUuYWN0aXZlIC5wb3B1cFNwYW4ge1xuICB0b3A6IC00MHB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cbi5taWxlc3RvbmUuYWN0aXZlLmZ1dHVyZSB7XG4gIHdpZHRoOiAxcHg7XG4gIGhlaWdodDogMXB4O1xuICBib3JkZXItdG9wOiA3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWxlZnQ6IDEzcHggc29saWQgd2hpdGU7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBib3JkZXItcmlnaHQ6IDA7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuLm1pbGVzdG9uZS5hY3RpdmUuY3VycmVudCAucG9wdXBTcGFuIHtcbiAgbGVmdDogLTUwcHg7XG4gIHRvcDogLTUwcHg7XG59XG5cbkBrZXlmcmFtZXMgZ3JvdyB7XG4gIDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgLW1vei10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgfVxuICA1MCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcbiAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XG4gICAgLW8tdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICB9XG4gIDEwMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgLW8tdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICB9XG59Il19 */\", \"@media screen and (max-width: 1024px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    bottom: -90px;\\n  }\\n\\n  .milestone[_ngcontent-%COMP%] {\\n    width: 8px;\\n    height: 8px;\\n    top: -6px;\\n  }\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -40px;\\n    font-size: 15px;\\n  }\\n  .milestone.current[_ngcontent-%COMP%] {\\n    width: 12px;\\n    height: 12px;\\n    top: -8px;\\n  }\\n  .milestone.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    font-size: 18px;\\n  }\\n  .milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    top: -45px;\\n    left: -40px;\\n  }\\n}\\n@media screen and (max-width: 880px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    bottom: -60px;\\n  }\\n\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -20px;\\n  }\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  .milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -25px;\\n  }\\n}\\n@media screen and (max-width: 600px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ncmFjZWJyb3duL2xpdmUtcmVzdW1lL3NyYy9hcHAvZXhwZXJpZW5jZS9leHBlcmllbmNlLXRpbWVsaW5lL2V4cGVyaWVuY2UtdGltZWxpbmUuY29tcG9uZW50LnJlcG9uc2l2aXR5LnNjc3MiLCJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5yZXBvbnNpdml0eS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUk7SUFDSSxhQUFBO0VDQU47O0VER0U7SUFDSSxVQUFBO0lBQ0EsV0FBQTtJQUNBLFNBQUE7RUNBTjtFREVNO0lBQ0ksV0FBQTtJQUNBLGVBQUE7RUNBVjtFREVNO0lBQ0ksV0FBQTtJQUNBLFlBQUE7SUFDQSxTQUFBO0VDQVY7RURFVTtJQUNJLGVBQUE7RUNBZDtFREdNO0lBQ0ksVUFBQTtJQUNBLFdBQUE7RUNEVjtBQUNGO0FES0E7RUFFSTtJQUNJLGFBQUE7RUNKTjs7RURRTTtJQUNJLFdBQUE7RUNMVjtFRE9VO0lBQ0ksYUFBQTtFQ0xkO0VEUU07SUFDSSxXQUFBO0VDTlY7QUFDRjtBRFVBO0VBQ0k7SUFDSSxhQUFBO0VDUk47QUFDRiIsImZpbGUiOiJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5yZXBvbnNpdml0eS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyNHB4KSB7XG5cbiAgICAuYm90dG9tLWNvbnRhaW5lciB7XG4gICAgICAgIGJvdHRvbTogLTkwcHg7XG4gICAgfVxuICAgICAgXG4gICAgLm1pbGVzdG9uZSB7XG4gICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICB0b3A6IC02cHg7XG4gICAgICAgIFxuICAgICAgICAucG9wdXBTcGFuIHtcbiAgICAgICAgICAgIGxlZnQ6IC00MHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICB9XG4gICAgICAgICYuY3VycmVudCB7XG4gICAgICAgICAgICB3aWR0aDogMTJweDtcbiAgICAgICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgICAgIHRvcDogLThweDtcbiAgICBcbiAgICAgICAgICAgIC5wb3B1cFNwYW4ge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAmLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICAgICAgICAgICAgdG9wOiAtNDVweDtcbiAgICAgICAgICAgIGxlZnQ6IC00MHB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4ODBweCkge1xuXG4gICAgLmJvdHRvbS1jb250YWluZXIge1xuICAgICAgICBib3R0b206IC02MHB4O1xuICAgIH1cbiAgICBcbiAgICAubWlsZXN0b25lIHsgICAgICAgIFxuICAgICAgICAucG9wdXBTcGFuIHtcbiAgICAgICAgICAgIGxlZnQ6IC0yMHB4O1xuXG4gICAgICAgICAgICAubW9udGgge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJi5hY3RpdmUuY3VycmVudCAucG9wdXBTcGFuIHtcbiAgICAgICAgICAgIGxlZnQ6IC0yNXB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgIC5ib3R0b20tY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG59IiwiQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyNHB4KSB7XG4gIC5ib3R0b20tY29udGFpbmVyIHtcbiAgICBib3R0b206IC05MHB4O1xuICB9XG5cbiAgLm1pbGVzdG9uZSB7XG4gICAgd2lkdGg6IDhweDtcbiAgICBoZWlnaHQ6IDhweDtcbiAgICB0b3A6IC02cHg7XG4gIH1cbiAgLm1pbGVzdG9uZSAucG9wdXBTcGFuIHtcbiAgICBsZWZ0OiAtNDBweDtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gIH1cbiAgLm1pbGVzdG9uZS5jdXJyZW50IHtcbiAgICB3aWR0aDogMTJweDtcbiAgICBoZWlnaHQ6IDEycHg7XG4gICAgdG9wOiAtOHB4O1xuICB9XG4gIC5taWxlc3RvbmUuY3VycmVudCAucG9wdXBTcGFuIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gIH1cbiAgLm1pbGVzdG9uZS5hY3RpdmUuY3VycmVudCAucG9wdXBTcGFuIHtcbiAgICB0b3A6IC00NXB4O1xuICAgIGxlZnQ6IC00MHB4O1xuICB9XG59XG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4ODBweCkge1xuICAuYm90dG9tLWNvbnRhaW5lciB7XG4gICAgYm90dG9tOiAtNjBweDtcbiAgfVxuXG4gIC5taWxlc3RvbmUgLnBvcHVwU3BhbiB7XG4gICAgbGVmdDogLTIwcHg7XG4gIH1cbiAgLm1pbGVzdG9uZSAucG9wdXBTcGFuIC5tb250aCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuICAubWlsZXN0b25lLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICAgIGxlZnQ6IC0yNXB4O1xuICB9XG59XG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xuICAuYm90dG9tLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufSJdfQ== */\"]\n});\n/*@__PURE__*/\n\n(function () {\n  i0.ɵsetClassMetadata(ExperienceTimelineComponent, [{\n    type: Component,\n    args: [{\n      selector: \"app-experience-timeline\",\n      templateUrl: \"./experience-timeline.component.html\",\n      styleUrls: [\"./experience-timeline.component.scss\", \"experience-timeline.component.reponsivity.scss\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCALE_ID]\n      }]\n    }];\n  }, {\n    onTimelineChanged: [{\n      type: Output\n    }],\n    line: [{\n      type: ViewChild,\n      args: [\"line\"]\n    }],\n    currentPosition: [{\n      type: Input\n    }],\n    experiences: [{\n      type: Input\n    }]\n  });\n})();","map":{"version":3,"sources":["/Users/gracebrown/live-resume/src/app/experience/experience-timeline/experience-timeline.component.ts","/Users/gracebrown/live-resume/src/app/experience/experience-timeline/experience-timeline.component.html"],"names":[],"mappings":"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","sourcesContent":["import { \n  Component, OnInit,\n  Input, ElementRef,\n  ViewChild, EventEmitter,\n  Renderer2, OnDestroy,\n  Output, LOCALE_ID,\n  Inject\n} from \"@angular/core\";\nimport { IExperience } from \"../experience-interfaces\";\nimport { SafariDateFormatterPipe } from \"../../core/pipe/safari-date-formatter.pipe\";\nimport { LocalizedDatePipe } from \"../../core/pipe/localized-date.pipe\";\n\n@Component({\n  selector: \"app-experience-timeline\",\n  templateUrl: \"./experience-timeline.component.html\",\n  styleUrls: [ \"./experience-timeline.component.scss\" , \"experience-timeline.component.reponsivity.scss\"]\n})\nexport class ExperienceTimelineComponent implements OnInit, OnDestroy {\n\n  private _experiences: IExperience[] = [];\n  private _currentPosition: number;\n  private offsetWidth: number;\n\n  @Output() onTimelineChanged = new EventEmitter<number>();\n\n  public removeEventListener: () => void;\n\n  @ViewChild(\"line\") line: ElementRef;\n\n  constructor(\n    private elRef: ElementRef,\n    private renderer: Renderer2,\n    @Inject(LOCALE_ID) public locale: string\n  ) {}\n\n  @Input() get currentPosition(): number {\n    return this._currentPosition;\n  }\n\n  set currentPosition(value: number) {\n    if(value) {\n      this._currentPosition = value;\n      this.updateTimelineNavigation();\n    }\n  }\n\n  @Input() get experiences(): IExperience[] {\n      return this._experiences;\n  }\n\n  set experiences(value: IExperience[]) {\n      if(value) {\n        this._experiences = value;\n        this.populateExperienceTimeline();\n      }\n  }\n\n  ngOnInit() : void {\n    this.offsetWidth = this.elRef.nativeElement.offsetWidth;\n\n    this.removeEventListener = this.renderer.listen(this.elRef.nativeElement, \"click\", (event) => {\n      if (event.target && event.target.getAttribute(\"id-position\")) {\n        const targetId: number = event.target.getAttribute(\"id-position\");\n        this.onTimelineChanged.emit(targetId);\n      }\n    });\n  }\n\n  // Cleanup by removing the event listener on destroy\n  public ngOnDestroy() {\n    this.removeEventListener();\n  }\n  \n  updateTimelineNavigation() {\n    const activePreviousElem = this.line.nativeElement.querySelector(\".milestone.active.current\");\n    this.renderer.removeClass(activePreviousElem, \"current\");\n    \n    const targetElem = this.line.nativeElement.querySelector(`div[id-position=\"${this.currentPosition}\"]`);\n    this.renderer.addClass(targetElem, \"current\");\n  }\n  \n  private daysBetween(startDate: string, endDate: string): number {\n    // The .replace() is necessary in order to avoid issues in the Firefox browser.\n    const pointA = new Date(startDate.replace(/-/g,'/'));\n    const pointB = new Date(endDate.replace(/-/g,'/'));\n    return Math.round(Math.abs(+pointA - +pointB) / 8.64e7);\n  }\n\n  private retrieveTodayDateAsString(): string {\n    const today = new Date();\n    return `${today.getMonth()+1}-${today.getDate()}-${today.getFullYear()}`;\n  }\n\n  populateExperienceTimeline(): void {\n\n    let dates: string[] = this._experiences.map(experience => experience.startAt);\n\n    // Adding the current day in order to complete the timeline.\n    dates.push(this.retrieveTodayDateAsString());\n\n    if(dates && dates.length < 2) {\n      this.renderer.setStyle(this.elRef.nativeElement, \"visibility\", \"hidden\");\n    } \n    else if (dates.length >= 2) {\n      const daysBetween: number = this.daysBetween(dates[0], dates[dates.length - 1]);\n      const oneDayInPixels: number = this.offsetWidth / daysBetween;\n      \n      // Draw first date milestone      \n      this.renderer.appendChild(this.line.nativeElement, this.createMilestone(1, 0, dates[0]));\n\n      let i: number;\n      const lastFrameLoop = dates.length - 1;\n\n      // Draw the middle date milestones\n      for (i = 1; i < lastFrameLoop; i++) {\n        const periodInDays: number = this.daysBetween(dates[0], dates[i]);\n        const periodWidth: number = periodInDays * oneDayInPixels;\n        const milestoneElement = this.createMilestone((i + 1), periodWidth, dates[i]);\n\n        if(i == lastFrameLoop - 1) {\n          this.renderer.addClass(milestoneElement, \"current\");\n        }\n\n        this.renderer.appendChild(this.line.nativeElement, milestoneElement);        \n      }\n\n      // Draw last date milestone ( the current frame )\n      const lastDataMilestone = this.createCurrentTriangle(i + 1);\n      this.renderer.appendChild(this.line.nativeElement, lastDataMilestone);\n    }\n  }\n\n  calculatePosition(leftPosition: number, offsetWidth: number) : number {\n    return (leftPosition * 100) / offsetWidth;\n  }\n\n  createMilestone(index: number, left: number, date: string): any {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    const leftPos = this.calculatePosition(left, this.offsetWidth);\n    // Uses at most 95% instead of 100% in order to avoid collision to the arrow icon on the right side of the timeline.\n    this.renderer.setStyle(milestoneElement, \"left\", `${Math.min(95, leftPos)}%`);\n    this.renderer.setAttribute(milestoneElement, \"id-position\", index.toString());\n\n    const labelElement = this.createLabelElement(date.toString());\n\n    this.renderer.appendChild(milestoneElement, labelElement);\n\n    return milestoneElement;\n  }\n\n  createCurrentTriangle(index: number): any {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    this.renderer.addClass(milestoneElement, \"future\");\n    this.renderer.setStyle(milestoneElement, \"left\", \"100%\");\n    return milestoneElement;\n  }\n\n  // Update this function based on the desired date label formatting.\n  createLabelElement(date: string): string {\n\n    const safariDateFormatterPipe = new SafariDateFormatterPipe();\n    const safariDateFormatterPipeValue = safariDateFormatterPipe.transform(date);\n    \n    const localizedDatePipe = new LocalizedDatePipe(this.locale);\n\n    let month: any = localizedDatePipe.transform(safariDateFormatterPipeValue, \"MMM\");\n    const labelElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(labelElement, \"popupSpan\");\n\n    const monthSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(monthSpan, \"month\");\n    this.renderer.appendChild(monthSpan, this.renderer.createText(month));\n\n    const year = localizedDatePipe.transform(safariDateFormatterPipeValue, \"yyyy\");\n    const yearSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(yearSpan, \"year\");\n    this.renderer.appendChild(yearSpan, this.renderer.createText(year));\n\n    this.renderer.appendChild(labelElement, monthSpan);\n    this.renderer.appendChild(labelElement, yearSpan);\n\n    return labelElement; // year, E.g: May. 2020\n  }\n}","<div class=\"bottom-container\">\n    <div class=\"lineCont\"> \n        <div class=\"line\" #line></div>\n    </div>\n    <div class=\"mainCont\"></div>\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}